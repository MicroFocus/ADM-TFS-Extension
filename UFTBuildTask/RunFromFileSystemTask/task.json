{
  "id": "CFBE1493-3BB1-44D5-AC87-7F14A148A6F2",
  "name": "RunFromFileSystemTask",
  "friendlyName": "UFT One File System Run",
  "description": "Run UFT One tests from file system",
  "category": "Test",
  "visibility": [
    "Build",
    "Release"
  ],
  "author": "Micro Focus",
  "version": {
    "Major": 3,
    "Minor": 0,
    "Patch": 1
  },
  "helpUrl": "https://admhelp.microfocus.com/uft/en/latest/UFT_Help/Content/UFT_Tools/Azure_DevOps_Extension/uft-azure-devops-run-local.htm",
  "demands": "UFT_LAUNCHER",
  "groups": [
    {
      "name": "parallelRunner",
      "displayName": "Parallel Runner",
      "isExpanded": false
    },
    {
      "name": "mobileCenter",
      "displayName": "Mobile Center",
      "isExpanded": false
    }
  ],
  "inputs": [
    {
      "name": "testPathInput",
      "type": "multiLine",
      "label": "Tests",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "List of tests or folders that contain tests, to run. Each line should contain a single test, folder, or MTB file"
    },
    {
      "name": "timeOutIn",
      "type": "string",
      "label": "Timeout",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Timeout value in seconds. If left empty, there is no timeout"
    },
    {
      "name": "useParallelRunner",
      "groupName": "parallelRunner",
      "type": "boolean",
      "label": "Use Parallel running mode",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": "Choose whether to run the tests using the Parallel Runner mode. Enabling this option requires you to configure the devices or the browsers on which you choose to run your tests"
    },
    {
      "name": "envType",
      "groupName": "parallelRunner",
      "type": "radio",
      "label": "Environment Type",
      "defaultValue": "",
      "required": false,
      "visibleRule": "useParallelRunner = true",
      "helpMarkDown": "Choose whether to run the tests on a list of specified devices, or on any of the available browsers (if you choose multiple browsers, the test is run multiple times, one run on each browser)",
      "options": {
        "mobile": "Mobile",
        "web": "Web"
      }
    },
    {
      "name": "chrome",
      "groupName": "parallelRunner",
      "type": "boolean",
      "label": "Chrome",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": null,
      "visibleRule": "useParallelRunner = true && envType = web"
    },
    {
      "name": "chromeH",
      "groupName": "parallelRunner",
      "type": "boolean",
      "label": "Chrome Headless",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": null,
      "visibleRule": "useParallelRunner = true && envType = web"
    },
    {
      "name": "chromium",
      "groupName": "parallelRunner",
      "type": "boolean",
      "label": "Chromium Edge",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": null,
      "visibleRule": "useParallelRunner = true && envType = web"
    },
    {
      "name": "edge",
      "groupName": "parallelRunner",
      "type": "boolean",
      "label": "Edge",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": null,
      "visibleRule": "useParallelRunner = true && envType = web"
    },
    {
      "name": "firefox",
      "groupName": "parallelRunner",
      "type": "boolean",
      "label": "Firefox",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": null,
      "visibleRule": "useParallelRunner = true && envType = web"
    },
    {
      "name": "firefox64",
      "groupName": "parallelRunner",
      "type": "boolean",
      "label": "Firefox 64",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": null,
      "visibleRule": "useParallelRunner = true && envType = web"
    },
    {
      "name": "iExplorer",
      "groupName": "parallelRunner",
      "type": "boolean",
      "label": "Internet Explorer",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": null,
      "visibleRule": "useParallelRunner = true && envType = web"
    },
    {
      "name": "iExplorer64",
      "groupName": "parallelRunner",
      "type": "boolean",
      "label": "Internet Explorer 64",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": null,
      "visibleRule": "useParallelRunner = true && envType = web"
    },
    {
      "name": "safari",
      "groupName": "parallelRunner",
      "type": "boolean",
      "label": "Safari",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": null,
      "visibleRule": "useParallelRunner = true && envType = web"
    },
    {
      "name": "mcDevices",
      "groupName": "parallelRunner",
      "type": "multiLine",
      "label": "Devices",
      "defaultValue": "",
      "required": false,
      "visibleRule": "useParallelRunner = true && envType = mobile",
      "helpMarkDown": "Specify the list of devices, each line should represent one single device's information. Parallel Runner runs the test(s) multiple times, to test on all specified devices"
    },
    {
      "name": "enableFailedTestsReport",
      "type": "boolean",
      "label": "Generate 'Failed Tests' report",
      "defaultValue": true,
      "required": false,
      "helpMarkDown": "Choose whether to generate a report which provides information on your tests' failed steps. You can view these results in the Extensions tab."
    },
    {
      "name": "uploadArtifact",
      "type": "radio",
      "label": "Do you want to upload the UFT One report to the storage account?",
      "defaultValue": "no",
      "required": true,
      "options": {
        "yes": "Yes",
        "no": "No"
      },
      "helpMarkDown": "Choose whether you want or not to upload the report on your Azure storage account."
    },
    {
      "name": "artifactType",
      "type": "pickList",
      "label": "Artifacts to upload",
      "defaultValue": "onlyReport",
      "required": false,
      "visibleRule": "uploadArtifact = yes",
      "helpMarkDown": "Choose what artifact will be uploaded to the storage account",
      "options": {
        "onlyReport": "Only UFT One html report",
        "onlyArchive": "Only UFT One archive",
        "bothReportArchive": "Both UFT One report and archive"
      }
    },
    {
      "name": "reportFileName",
      "type": "string",
      "label": "Report file name",
      "defaultValue": "$(System.DefinitionName)",
      "visibleRule": "artifactType = onlyReport || artifactType = bothReportArchive",
      "helpMarkDown": "Choose a name for the UFT One report file"
    },
    {
      "name": "mcServerUrl",
      "groupName": "mobileCenter",
      "type": "string",
      "label": "Server",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "The address of your Mobile Center server, in the format http[s]://(MC server name):(port)"
    },
    {
      "name": "mcUsername",
      "groupName": "mobileCenter",
      "type": "string",
      "label": "Username",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "The username that will access this Mobile Center server during the build step run"
    },
    {
      "name": "mcPassword",
      "groupName": "mobileCenter",
      "type": "string",
      "label": "Password",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "The password for the user that will access this Mobile Center server during the build step run"
    }
  ],

  "instanceNameFormat": "Run From File System",
  "execution": {
    "PowerShell3": {
      "target": "localTask.ps1",
      "argumentFormat": "",
      "workingDirectory": "$(currentDirectory)",
      "platforms": [
        "windows"
      ]
    },
    "PublishTest": {
      "target": "publish.ps1",
      "argumentFormat": "",
      "workingDirectory": "$(currentDirectory)",
      "platforms": [
        "windows"
      ]
    }
  }
}